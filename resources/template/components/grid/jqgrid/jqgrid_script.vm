	new biz.grid({##属性#set ($j = 0)#if($id && $id!="")#if($j==1),#end				id:"#$id"	/*grid标签id*/#set($j=1)#end#if($pager && $pager!="")#if($j==1),  #end				pager:"#$pager"	/*分页栏id*/#set($j=1)#end#if($url && $url!="")#if($j==1), #end		url:"$url"	/*获取数据url*/#set($j=1)#end#if($datatype && $datatype!="" && $datatype!="json")#if($j==1),#end		datatype:"$datatype"	/*数据格式类型*/#set($j=1)#end#if($mtype && $mtype!="" && $mtype!="post")#if($j==1),#end				mtype:"$mtype"	/*请求数据方式，包括post、get*/#end#if($navtype)#if($j==1), #end				navtype:"$navtype"	/*导航栏类型，包括none、top、bottom、both、topRight*/#end#if($navopt)#if($j==1), #end				navopt:$navopt	/*导航栏属性*/#end#if($editway && $editway!="popup")#if($j==1), #end				editway:"$editway"  /*编辑方式，包括popup、cell、row*/#end#if($altRows && $altRows!="true")#if($j==1),  #end				altRows:"$altRows"	/*是否显示斑马样式行*/#end#if($editurl && $editurl!="")#if($j==1), #end				editurl:"$editurl"	/*编辑数据提交url*/#end#if($caption && $caption!="")#if($j==1),  #end				caption:"$caption"	/*grid标题*/#end#if($height && $height!="auto")#if($j==1),  #end				height:"$height"	/*grid高度*/#end#if($width && $width!="auto")#if($j==1), #end				width:"$width"	/*grid宽度*/#end#if($multiselect && $singleselect != "true")#if($j==1), #end				multiselect:$multiselect	/*是否可多选*/#end#if($rowNum && $rowNum!="10")#if($j==1),  #end				rowNum:$rowNum	/*单页显示数据量*/#end#if($rowList && $rowList!="[10,15,50,100]" && $rowList!="[]")#if($j==1),   #end				rowList:$rowList	/*分页下拉框数据*/#end#if($sortname && $sortname!="")#if($j==1),   #end	 		sortname:"$sortname"	/*排序字段*/#end#if($sortorder && $sortorder!="asc")#if($j==1), #end				sortorder:"$sortorder"	/*排序方式*/#end#if($singleselect == "true")#if($j==1), #end		singleselect:$singleselect	/*首列是否单选*/#end#if($autoencode && $singleselect != "true")#if($j==1), #end		autoencode:$autoencode	/*是否对单元格内容进行编码*/#end#if($editCellFlag == "false")#if($j==1), #end		editCellFlag:$editCellFlag	/*是否对编辑过的单元格进行标识*/#end#if($postData)#if($j==1), #end				postData:$postData	/*自定义提交数据*/#end##列属性#if($columnMap)#if($j==1),#end      		colModel:[	/*列属性*/#set ($row = ${columnMap.keySet().size()})#foreach($event in [1..$row])           	  {#foreach($coulmnproperty in ${columnMap.get($event).keySet()}) #if($coulmnproperty == "name")name:"${columnMap.get($event).get($coulmnproperty)}"#if($velocityCount != ${columnMap.get($event).keySet().size()}),#end #end#if($coulmnproperty == "index")index:"${columnMap.get($event).get($coulmnproperty)}"#if($velocityCount != ${columnMap.get($event).keySet().size()}),#end #end#if($coulmnproperty == "fixed")fixed:${columnMap.get($event).get($coulmnproperty)}#if($velocityCount != ${columnMap.get($event).keySet().size()}),#end #end#if($coulmnproperty == "label")label:"${columnMap.get($event).get($coulmnproperty)}"#if($velocityCount != ${columnMap.get($event).keySet().size()}),#end #end#if($coulmnproperty == "hidden")hidden:${columnMap.get($event).get($coulmnproperty)}#if($velocityCount != ${columnMap.get($event).keySet().size()}),#end #end#if($coulmnproperty == "key")key:${columnMap.get($event).get($coulmnproperty)}#if($velocityCount != ${columnMap.get($event).keySet().size()}),#end #end#if($coulmnproperty == "sortable")sortable:${columnMap.get($event).get($coulmnproperty)}#if($velocityCount != ${columnMap.get($event).keySet().size()}),#end #end#if($coulmnproperty == "sorttype")sorttype:"${columnMap.get($event).get($coulmnproperty)}"#if($velocityCount != ${columnMap.get($event).keySet().size()}),#end #end#if($coulmnproperty == "width")width:${columnMap.get($event).get($coulmnproperty)}#if($velocityCount != ${columnMap.get($event).keySet().size()}),#end #end#if($coulmnproperty == "align")align:"${columnMap.get($event).get($coulmnproperty)}"#if($velocityCount != ${columnMap.get($event).keySet().size()}),#end #end#if($coulmnproperty == "classes")classes:"${columnMap.get($event).get($coulmnproperty)}"#if($velocityCount != ${columnMap.get($event).keySet().size()}),#end #end#if($coulmnproperty == "datefmt")datefmt:"${columnMap.get($event).get($coulmnproperty)}"#if($velocityCount != ${columnMap.get($event).keySet().size()}),#end #end#if($coulmnproperty == "defval")defval:"${columnMap.get($event).get($coulmnproperty)}"#if($velocityCount != ${columnMap.get($event).keySet().size()}),#end #end#if($coulmnproperty == "editable")editable:${columnMap.get($event).get($coulmnproperty)}#if($velocityCount != ${columnMap.get($event).keySet().size()}),#end #end#if($coulmnproperty == "formatter")formatter:"${columnMap.get($event).get($coulmnproperty)}"#if($velocityCount != ${columnMap.get($event).keySet().size()}),#end #end##格式化属性#if($coulmnproperty == "formatoptions")formatoptions:{#foreach($formatoptionsproperty in ${columnMap.get($event).get($coulmnproperty).keySet()})$formatoptionsproperty:${columnMap.get($event).get($coulmnproperty).get($formatoptionsproperty)}#if($velocityCount != ${columnMap.get($event).get($coulmnproperty).keySet().size()}),#end#end}#if($velocityCount != ${columnMap.get($event).keySet().size()}),#end #end ##编辑规则###if($coulmnproperty == "editrules")editrules:{#foreach($editrulesproperty in ${columnMap.get($event).get($coulmnproperty).keySet()})##$editrulesproperty:${columnMap.get($event).get($coulmnproperty).get($editrulesproperty)}#if($velocityCount != ${columnMap.get($event).get($coulmnproperty).keySet().size()}),#end###end##}#if($velocityCount != ${columnMap.get($event).keySet().size()}),#end #end ##编辑类型开始#if($coulmnproperty == "edittype")edittype:"${columnMap.get($event).get($coulmnproperty)}"#if(${columnMap.get($event).get("editoptions")}),editoptions:{#set ($i = 0)##编辑类型为comboboxtree处理开始#if(${columnMap.get($event).get($coulmnproperty)}=="comboboxtree")#set ($n = 0)#set ($P = 0)#set ($q = 0)#set ($r = 0) #set ($s = 0)#set ($u = 0)#set ($comboboxtreeMap = ${columnMap.get($event).get("editoptions")})#if(${comboboxtreeMap.get("width")})#if($i==1),#end width:${comboboxtreeMap.get("width")}#set($i=1)#end #if(${comboboxtreeMap.get("height")} || ${comboboxtreeMap.get("zindex")})#if($i==1),#end height:${comboboxtreeMap.get("height")}#set($i=1)#end#if(${comboboxtreeMap.get("nodes")} || ${comboboxtreeMap.get("zindex")})#if($i==1),#end nodes:${comboboxtreeMap.get("nodes")}#set($i=1)#end#if(${comboboxtreeMap.get("zindex")})#if($i==1),#end zindex:${comboboxtreeMap.get("zindex")}#set($i=1)#end#if(${comboboxtreeMap.get("enable")} || ${comboboxtreeMap.get("url")}||  ${comboboxtreeMap.get("dataType")}|| ${comboboxtreeMap.get("autoParam")}|| ${comboboxtreeMap.get("otherParam")})#if($i==1),#end  async:{#if(${comboboxtreeMap.get("url")})#if($n==1),#end url:"${comboboxtreeMap.get("url")}"#set($n=1)#end#if(${comboboxtreeMap.get("enable")})#if($n==1),#end enable:${comboboxtreeMap.get("enable")}#set($n=1)#end#if(${comboboxtreeMap.get("dataType")})#if($n==1),#end dataType:"${comboboxtreeMap.get("dataType")}"#set($n=1)#end#if(${comboboxtreeMap.get("autoParam")})#if($n==1),#end autoParam:${comboboxtreeMap.get("autoParam")}#set($n=1)#end#if(${comboboxtreeMap.get("otherParam")})#if($n==1),#end otherParam:${comboboxtreeMap.get("otherParam")}#set($n=1)#end }#set($i=1)#end#if( (${comboboxtreeMap.get("chkStyle")}=="radio") || ${comboboxtreeMap.get("chkEnable")}|| ${comboboxtreeMap.get("chkboxType")} || (${comboboxtreeMap.get("radioType")}=="all") )#if($i==1),#end check:{#if(${comboboxtreeMap.get("chkStyle")})#if($p==1),#end chkStyle:"${comboboxtreeMap.get("chkStyle")}"#set($p=1)#end#if(${comboboxtreeMap.get("radioType")})#if($p==1),#end radioType:"${comboboxtreeMap.get("radioType")}"#set($p=1)#end#if(${comboboxtreeMap.get("chkboxType")})#if($p==1),#end chkboxType:${comboboxtreeMap.get("chkboxType")}#set($p=1)#end#if(${comboboxtreeMap.get("chkEnable")})#if($p==1),#end chkEnable:${comboboxtreeMap.get("chkEnable")}#set($p=1)#end }#set($i=1)#end#if(${comboboxtreeMap.get("isSimpleData")}=="true"  || ${comboboxtreeMap.get("valueName")}	|| (${comboboxtreeMap.get("idKey")} && ${comboboxtreeMap.get("idKey")}!="id")|| (${comboboxtreeMap.get("pIdKey")}&& ${comboboxtreeMap.get("pIdKey")}!="pId")|| (${comboboxtreeMap.get("rootPid")} && ${comboboxtreeMap.get("rootPid")}!=""))#if($i==1),#end data:{#if(${comboboxtreeMap.get("isSimpleData")} || ${comboboxtreeMap.get("idKey")} || ${comboboxtreeMap.get("pIdKey")}|| ${comboboxtreeMap.get("rootPid")} )#if($q==1),#end simpleData:{#if(${comboboxtreeMap.get("isSimpleData")})#if($r==1),#end enable:${comboboxtreeMap.get("isSimpleData")}#set($r=1)#end#if(${comboboxtreeMap.get("rootPid")})#if($r==1),#end rootPid:${comboboxtreeMap.get("rootPid")}#set($r=1)#end #if(${comboboxtreeMap.get("idKey")})#if($r==1),#end idKey:"${comboboxtreeMap.get("idKey")}"#set($r=1)#end#if(${comboboxtreeMap.get("pIdKey")})#if($r==1),#end pIdKey:"${comboboxtreeMap.get("pIdKey")}"#set($r=1)#end     }#set($q=1)#end#if(${comboboxtreeMap.get("valueName")})#if($q==1),#end key:{#if(${comboboxtreeMap.get("valueName")})#if($s==1),#end name:"${comboboxtreeMap.get("valueName")}"#set($s=1)#end}#set($q=1)#end}#set($i=1)#end#if(${comboboxtreeMap.get("beforeClick")} || ${comboboxtreeMap.get("beforeRightClick")} || ${comboboxtreeMap.get("beforeExpand")} || ${comboboxtreeMap.get("beforeCollapse")} || ${comboboxtreeMap.get("onClick")} || ${comboboxtreeMap.get("onRightClick")} || $comboboxtreeMap.get("onExpand")|| $comboboxtreeMap.get("onCollapse"))#if($i==1),#end callback:{#if(${comboboxtreeMap.get("beforeClick")})#if($u==1),#end beforeClick:${comboboxtreeMap.get("beforeClick")}#set($u=1)#end#if(${comboboxtreeMap.get("beforeRightClick")})#if($u==1),#end beforeRightClick:${comboboxtreeMap.get("beforeRightClick")}#set($u=1)#end #if(${comboboxtreeMap.get("beforeExpand")})#if($u==1),#end beforeExpand:${comboboxtreeMap.get("beforeExpand")}#set($u=1)#end#if(${comboboxtreeMap.get("beforeCollapse")})#if($u==1),#end beforeCollapse:${comboboxtreeMap.get("beforeCollapse")}#set($u=1)#end#if(${comboboxtreeMap.get("onClick")})#if($u==1),#end onClick:${comboboxtreeMap.get("onClick")}#set($u=1)#end#if(${comboboxtreeMap.get("onRightClick")})#if($u==1),#end onRightClick:${comboboxtreeMap.get("onRightClick")}#set($u=1)#end#if(${comboboxtreeMap.get("onExpand")})#if($u==1),#end onExpand:${comboboxtreeMap.get("onExpand")}#set($u=1)#end#if(${comboboxtreeMap.get("onCollapse")})#if($u==1),#end onCollapse:${comboboxtreeMap.get("onCollapse")}#set($u=1)#end}#set($i=1)#end##编辑类型为comboboxtree处理结束#else#foreach($editoptionproperty in ${columnMap.get($event).get("editoptions").keySet()})#if($editoptionproperty!="required" && $editoptionproperty!="validateType"  && $editoptionproperty!="min" && $editoptionproperty!="equalTo" && $editoptionproperty!="accept" && $editoptionproperty!="maxlength" && $editoptionproperty!="minlength" &&$editoptionproperty!="rangelength" && $editoptionproperty!="range"  && $editoptionproperty!="max")#if($i==1),#end #if($editoptionproperty=="id" ||$editoptionproperty=="data" || $editoptionproperty=="doubleCalendar" || $editoptionproperty=="enableKeyboard" || $editoptionproperty=="enableInputMask" || $editoptionproperty=="autoUpdateOnChanged" || $editoptionproperty=="position" || $editoptionproperty=="firstDayOfWeek" || $editoptionproperty=="isShowWeek" || $editoptionproperty=="highLineWeekDay" || $editoptionproperty=="isShowClear" || $editoptionproperty=="isShowToday" || $editoptionproperty=="isShowOthers" || $editoptionproperty=="readOnly" || $editoptionproperty=="errDealMode" || $editoptionproperty=="autoPickDate" || $editoptionproperty=="qsEnabled" || $editoptionproperty=="autoShowQS" || $editoptionproperty=="quickSel" || $editoptionproperty=="disabledDays" || $editoptionproperty=="disabledDates" || $editoptionproperty=="opposite" || $editoptionproperty=="specialDates" || $editoptionproperty=="specialDays" || $editoptionproperty=="onpicking" || $editoptionproperty=="onpicked" || $editoptionproperty=="onclearing" || $editoptionproperty=="oncleared" || $editoptionproperty=="minNum" || $editoptionproperty=="maxNum" || $editoptionproperty=="fix" || $editoptionproperty=="precision" || $editoptionproperty=="ajaxOptions" ||$editoptionproperty=="columns" || $editoptionproperty=="maxchecked" || $editoptionproperty=="checkbox" || $editoptionproperty=="usinglimit" || $editoptionproperty=="nodes" || $editoptionproperty=="enable" || $editoptionproperty=="autoParam" || $editoptionproperty=="otherParam" || $editoptionproperty=="dataFilter" || $editoptionproperty=="autoCheckTrigger" || $editoptionproperty=="cheEnable" || $editoptionproperty=="children" ||$editoptionproperty=="nocheckInherit" || $editoptionproperty=="isSimpleData" || $editoptionproperty=="rootPid" || $editoptionproperty=="checked" ||  $editoptionproperty=="timeout")$editoptionproperty:${columnMap.get($event).get("editoptions").get($editoptionproperty)}#else $editoptionproperty:"${columnMap.get($event).get("editoptions").get($editoptionproperty)}" #end#set($i=1)#end#end#end}##编辑类型与基础录入组件一致，校验类型要从editoptions里取出#set($n = 0) #set($m = 0)#foreach($editoptionproperty in ${columnMap.get($event).get("editoptions").keySet()})#if($editoptionproperty=="required" || $editoptionproperty=="validateType"  || $editoptionproperty=="min" || $editoptionproperty=="equalTo" ||$editoptionproperty=="accept" ||$editoptionproperty=="maxlength" ||$editoptionproperty=="minlength" ||$editoptionproperty=="rangelength" ||$editoptionproperty=="range" || $editoptionproperty=="max")#if($n==1),#elseif($n==0)#set($m=1),editrules:{#end #set($validate = ${columnMap.get($event).get("editoptions").get($editoptionproperty)})#if($editoptionproperty=="validateType") #if($validate == "数字") number:true#elseif($validate == "整数")digits:true#elseif($validate == "自然数")naturalnum:true#elseif($validate == "网址")url:true#elseif($validate == "电子邮箱")email:true#elseif($validate == "字母")stringEN:true#elseif($validate == "字母数字")alnum:true#elseif($validate == "汉字")stringCH:true#elseif($validate == "IP地址")ip:true#elseif($validate == "端口号")port:true#elseif($validate == "身份证号码")idcardno:true#elseif($validate == "邮政编码")postalcode:true#end #elseif($editoptionproperty == "equalTo" || $editoptionproperty == "accept" || $editoptionproperty == "remote")$editoptionproperty:"$validate" #else $editoptionproperty:$validate#end#set($n=1)#end#end#if($m==1)}#end#end#if($velocityCount != ${columnMap.get($event).keySet().size()}),#end #end ##编辑类型结束#end} #if($velocityCount != ${columnMap.keySet().size()}),#end#end		]#end##事件#if($beforeSelectRow)#if($j==1),#end				beforeSelectRow:$beforeSelectRow	/*选择行之前触发*/#end#if($gridComplete)#if($j==1),#end				gridComplete:$gridComplete	/*grid渲染完成后触发*/#end#if($loadComplete)#if($j==1),#end				loadComplete:$loadComplete	/*数据下载完成触发*/#end#if($ondblClickRow)#if($j==1),#end				ondblClickRow:$ondblClickRow	/*双击行触发*/#end#if($onHeaderClick)#if($j==1),#end				onHeaderClick:$onHeaderClick	/*单击表头触发*/#end#if($onRightClickRow)#if($j==1),#end				onRightClickRow:$onRightClickRow	/*右击行触发*/#end#if($onSelectAll)#if($j==1),#end				onSelectAll:$onSelectAll	/*全选触发*/#end#if($onSelectRow)#if($j==1),#end				onSelectRow:$onSelectRow	/*选择行触发*/#end		});